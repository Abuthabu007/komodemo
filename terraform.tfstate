{"version":4,"terraform_version":"1.10.7","serial":21,"lineage":"78707ebb-717f-51e7-8c2c-6dc080d63e1e","outputs":{"bucket_name":{"value":"play-video-upload-01","type":"string"},"cloud_run_url":{"value":"https://video-processor-5s2wpkwkna-uc.a.run.app","type":"string"},"eventarc_trigger_name":{"value":"my-trigger","type":"string"}},"resources":[{"mode":"managed","type":"google_project_service","name":"enabled_apis","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"index_key":"artifactregistry.googleapis.com","schema_version":0,"attributes":{"disable_dependent_services":null,"disable_on_destroy":false,"id":"komo-infra-479911/artifactregistry.googleapis.com","project":"komo-infra-479911","service":"artifactregistry.googleapis.com","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="},{"index_key":"cloudresourcemanager.googleapis.com","schema_version":0,"attributes":{"disable_dependent_services":null,"disable_on_destroy":false,"id":"komo-infra-479911/cloudresourcemanager.googleapis.com","project":"komo-infra-479911","service":"cloudresourcemanager.googleapis.com","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="},{"index_key":"eventarc.googleapis.com","schema_version":0,"attributes":{"disable_dependent_services":null,"disable_on_destroy":false,"id":"komo-infra-479911/eventarc.googleapis.com","project":"komo-infra-479911","service":"eventarc.googleapis.com","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="},{"index_key":"iam.googleapis.com","schema_version":0,"attributes":{"disable_dependent_services":null,"disable_on_destroy":false,"id":"komo-infra-479911/iam.googleapis.com","project":"komo-infra-479911","service":"iam.googleapis.com","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="},{"index_key":"pubsub.googleapis.com","schema_version":0,"attributes":{"disable_dependent_services":null,"disable_on_destroy":false,"id":"komo-infra-479911/pubsub.googleapis.com","project":"komo-infra-479911","service":"pubsub.googleapis.com","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="},{"index_key":"run.googleapis.com","schema_version":0,"attributes":{"disable_dependent_services":null,"disable_on_destroy":false,"id":"komo-infra-479911/run.googleapis.com","project":"komo-infra-479911","service":"run.googleapis.com","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="},{"index_key":"storage.googleapis.com","schema_version":0,"attributes":{"disable_dependent_services":null,"disable_on_destroy":false,"id":"komo-infra-479911/storage.googleapis.com","project":"komo-infra-479911","service":"storage.googleapis.com","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="}]},{"module":"module.cloud_run","mode":"managed","type":"google_cloud_run_service_iam_member","name":"invoker","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"schema_version":0,"attributes":{"condition":[],"etag":"BwZE5HqFYOg=","id":"v1/projects/komo-infra-479911/locations/us-central1/services/video-processor/roles/run.invoker/allUsers","location":"us-central1","member":"allUsers","project":"komo-infra-479911","role":"roles/run.invoker","service":"v1/projects/komo-infra-479911/locations/us-central1/services/video-processor"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["google_project_service.enabled_apis","module.cloud_run.google_cloud_run_v2_service.Playvideo","module.cloud_run.google_service_account.run_sa"]}]},{"module":"module.cloud_run","mode":"managed","type":"google_cloud_run_v2_service","name":"Playvideo","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"schema_version":0,"attributes":{"annotations":{},"binary_authorization":[],"build_config":[],"client":"","client_version":"","conditions":[{"execution_reason":"","last_transition_time":"2025-12-01T14:05:45.051696Z","message":"","reason":"","revision_reason":"","severity":"","state":"CONDITION_SUCCEEDED","type":"RoutesReady"},{"execution_reason":"","last_transition_time":"2025-12-01T14:05:42.160870Z","message":"","reason":"","revision_reason":"","severity":"","state":"CONDITION_SUCCEEDED","type":"ConfigurationsReady"}],"create_time":"2025-12-01T12:34:53.309383Z","creator":"ahamedbeema1989@gmail.com","custom_audiences":[],"default_uri_disabled":false,"delete_time":"","deletion_protection":false,"description":"","effective_annotations":{},"effective_labels":{"goog-terraform-provisioned":"true"},"etag":"\"CLXBtskGEIDBrcgB/cHJvamVjdHMva29tby1pbmZyYS00Nzk5MTEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL3NlcnZpY2VzL3ZpZGVvLXByb2Nlc3Nvcg\"","expire_time":"","generation":"2","id":"projects/komo-infra-479911/locations/us-central1/services/video-processor","ingress":"INGRESS_TRAFFIC_ALL","invoker_iam_disabled":false,"labels":{},"last_modifier":"ahamedbeema1989@gmail.com","latest_created_revision":"projects/komo-infra-479911/locations/us-central1/services/video-processor/revisions/video-processor-00002-9ff","latest_ready_revision":"projects/komo-infra-479911/locations/us-central1/services/video-processor/revisions/video-processor-00002-9ff","launch_stage":"GA","location":"us-central1","multi_region_settings":[],"name":"video-processor","observed_generation":"2","project":"komo-infra-479911","reconciling":false,"scaling":[],"template":[{"annotations":{},"containers":[{"args":[],"base_image_uri":"","build_info":[],"command":[],"depends_on":[],"env":[{"name":"BUCKET_NAME","value":"","value_source":[]}],"image":"gcr.io/cloudrun/hello","liveness_probe":[],"name":"","ports":[{"container_port":8080,"name":"http1"}],"resources":[{"cpu_idle":true,"limits":{"cpu":"1000m","memory":"512Mi"},"startup_cpu_boost":false}],"startup_probe":[{"failure_threshold":1,"grpc":[],"http_get":[],"initial_delay_seconds":0,"period_seconds":240,"tcp_socket":[{"port":8080}],"timeout_seconds":240}],"volume_mounts":[],"working_dir":""}],"encryption_key":"","execution_environment":"","gpu_zonal_redundancy_disabled":false,"health_check_disabled":false,"labels":{},"max_instance_request_concurrency":80,"node_selector":[],"revision":"","scaling":[{"max_instance_count":3,"min_instance_count":0}],"service_account":"video-processor-sa@komo-infra-479911.iam.gserviceaccount.com","session_affinity":false,"timeout":"300s","volumes":[],"vpc_access":[]}],"terminal_condition":[{"execution_reason":"","last_transition_time":"2025-12-01T14:05:45.102121Z","message":"","reason":"","revision_reason":"","severity":"","state":"CONDITION_SUCCEEDED","type":"Ready"}],"terraform_labels":{"goog-terraform-provisioned":"true"},"timeouts":null,"traffic":[{"percent":100,"revision":"","tag":"","type":"TRAFFIC_TARGET_ALLOCATION_TYPE_LATEST"}],"traffic_statuses":[{"percent":100,"revision":"","tag":"","type":"TRAFFIC_TARGET_ALLOCATION_TYPE_LATEST","uri":""}],"uid":"f342f009-3282-4eed-b09b-ac66c47c7a72","update_time":"2025-12-01T14:05:41.420176Z","uri":"https://video-processor-5s2wpkwkna-uc.a.run.app","urls":["https://video-processor-868383408248.us-central1.run.app","https://video-processor-5s2wpkwkna-uc.a.run.app"]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19","dependencies":["google_project_service.enabled_apis","module.cloud_run.google_service_account.run_sa"]}]},{"module":"module.cloud_run","mode":"managed","type":"google_project_iam_member","name":"sa_storage_admin","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"schema_version":0,"attributes":{"condition":[],"etag":"BwZE5HpyKhc=","id":"komo-infra-479911/roles/storage.objectAdmin/serviceAccount:video-processor-sa@komo-infra-479911.iam.gserviceaccount.com","member":"serviceAccount:video-processor-sa@komo-infra-479911.iam.gserviceaccount.com","project":"komo-infra-479911","role":"roles/storage.objectAdmin"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["google_project_service.enabled_apis","module.cloud_run.google_service_account.run_sa"]}]},{"module":"module.cloud_run","mode":"managed","type":"google_service_account","name":"run_sa","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"schema_version":0,"attributes":{"account_id":"video-processor-sa","create_ignore_already_exists":null,"description":"","disabled":false,"display_name":"Service account for Cloud Run video-processor","email":"video-processor-sa@komo-infra-479911.iam.gserviceaccount.com","id":"projects/komo-infra-479911/serviceAccounts/video-processor-sa@komo-infra-479911.iam.gserviceaccount.com","member":"serviceAccount:video-processor-sa@komo-infra-479911.iam.gserviceaccount.com","name":"projects/komo-infra-479911/serviceAccounts/video-processor-sa@komo-infra-479911.iam.gserviceaccount.com","project":"komo-infra-479911","timeouts":null,"unique_id":"112413478078630047052"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==","dependencies":["google_project_service.enabled_apis"]}]},{"module":"module.eventarc_trigger","mode":"managed","type":"google_eventarc_trigger","name":"uploadvideo","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"schema_version":0,"attributes":{"channel":"","conditions":{},"create_time":"2025-12-01T14:08:00.681856317Z","destination":[{"cloud_function":"","cloud_run_service":[{"path":"","region":"us-central1","service":"video-processor"}],"gke":[],"http_endpoint":[],"network_config":[],"workflow":""}],"effective_labels":{"goog-terraform-provisioned":"true"},"etag":"","event_data_content_type":"","id":"projects/komo-infra-479911/locations/us-central1/triggers/my-trigger","labels":null,"location":"us-central1","matching_criteria":[{"attribute":"type","operator":"","value":"google.cloud.pubsub.topic.v1.messagePublished"}],"name":"projects/komo-infra-479911/locations/us-central1/triggers/my-trigger","project":"komo-infra-479911","service_account":"","terraform_labels":{"goog-terraform-provisioned":"true"},"timeouts":null,"transport":[{"pubsub":[{"subscription":"projects/komo-infra-479911/subscriptions/eventarc-us-central1-my-trigger-sub-460","topic":"projects/komo-infra-479911/topics/eventarc-us-central1-my-trigger-373"}]}],"uid":"e94083a8-ddae-4723-bd18-5a6f54a0af37","update_time":"2025-12-01T14:08:06.927152514Z"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19","dependencies":["google_project_service.enabled_apis","module.cloud_run.google_cloud_run_v2_service.Playvideo","module.cloud_run.google_service_account.run_sa"]}]},{"module":"module.eventarc_trigger","mode":"managed","type":"google_project_iam_member","name":"eventarc_pubsub_publisher","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"schema_version":0,"attributes":{"condition":[],"etag":"BwZE5ILrk3c=","id":"komo-infra-479911/roles/pubsub.publisher/serviceAccount:service-868383408248@gcp-sa-eventarc.iam.gserviceaccount.com","member":"serviceAccount:service-868383408248@gcp-sa-eventarc.iam.gserviceaccount.com","project":"komo-infra-479911","role":"roles/pubsub.publisher"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["google_project_service.enabled_apis","module.cloud_run.google_cloud_run_v2_service.Playvideo","module.cloud_run.google_service_account.run_sa","module.eventarc_trigger.google_eventarc_trigger.uploadvideo"]}]},{"module":"module.eventarc_trigger","mode":"managed","type":"google_pubsub_topic","name":"event_topic","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"schema_version":0,"attributes":{"effective_labels":{"goog-terraform-provisioned":"true"},"id":"projects/komo-infra-479911/topics/eventarc-topic-play-video-upload-01","ingestion_data_source_settings":[],"kms_key_name":"","labels":null,"message_retention_duration":"","message_storage_policy":[],"message_transforms":[],"name":"eventarc-topic-play-video-upload-01","project":"komo-infra-479911","schema_settings":[],"tags":null,"terraform_labels":{"goog-terraform-provisioned":"true"},"timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19","dependencies":["module.storage.google_storage_bucket.uploads"]}]},{"module":"module.storage","mode":"managed","type":"google_storage_bucket","name":"uploads","provider":"provider[\"registry.opentofu.org/hashicorp/google\"]","instances":[{"schema_version":4,"attributes":{"autoclass":[],"cors":[],"custom_placement_config":[],"default_event_based_hold":false,"effective_labels":{"goog-terraform-provisioned":"true"},"enable_object_retention":false,"encryption":[],"force_destroy":true,"hierarchical_namespace":[{"enabled":false}],"id":"play-video-upload-01","ip_filter":[],"labels":{},"lifecycle_rule":[],"location":"US-CENTRAL1","logging":[],"name":"play-video-upload-01","project":"komo-infra-479911","project_number":868383408248,"public_access_prevention":"inherited","requester_pays":false,"retention_policy":[],"rpo":null,"self_link":"https://www.googleapis.com/storage/v1/b/play-video-upload-01","soft_delete_policy":[{"effective_time":"2025-12-01T12:08:03.933Z","retention_duration_seconds":604800}],"storage_class":"STANDARD","terraform_labels":{"goog-terraform-provisioned":"true"},"time_created":"2025-12-01T12:08:03.933Z","timeouts":null,"uniform_bucket_level_access":true,"updated":"2025-12-01T12:08:03.933Z","url":"gs://play-video-upload-01","versioning":[],"website":[{"main_page_suffix":"index.html","not_found_page":""}]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsInJlYWQiOjI0MDAwMDAwMDAwMCwidXBkYXRlIjoyNDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjQifQ=="}]}],"check_results":null}
